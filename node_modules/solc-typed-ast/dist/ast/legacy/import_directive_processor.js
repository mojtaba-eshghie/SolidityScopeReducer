"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.LegacyImportDirectiveProcessor = void 0;
const node_processor_1 = require("./node_processor");
const aliasesFilterFn = (alias) => alias != null;
class LegacyImportDirectiveProcessor extends node_processor_1.LegacyNodeProcessor {
    process(reader, config, raw) {
        const [id, src] = super.process(reader, config, raw);
        const attributes = raw.attributes;
        const file = attributes.file;
        const absolutePath = attributes.absolutePath;
        const unitAlias = attributes.unitAlias;
        const symbolAliases = attributes.symbolAliases.filter(aliasesFilterFn);
        const scope = attributes.scope;
        const sourceUnit = attributes.SourceUnit;
        for (const alias of symbolAliases) {
            if (typeof alias.foreign !== "number") {
                alias.foreign = reader.convert(alias.foreign, config);
            }
        }
        return [id, src, file, absolutePath, unitAlias, symbolAliases, scope, sourceUnit, raw];
    }
}
exports.LegacyImportDirectiveProcessor = LegacyImportDirectiveProcessor;
//# sourceMappingURL=import_directive_processor.js.map
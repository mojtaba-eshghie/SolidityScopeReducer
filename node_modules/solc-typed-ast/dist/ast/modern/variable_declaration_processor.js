"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ModernVariableDeclarationProcessor = void 0;
const constants_1 = require("../constants");
const node_processor_1 = require("./node_processor");
class ModernVariableDeclarationProcessor extends node_processor_1.ModernNodeProcessor {
    process(reader, config, raw) {
        const [id, src] = super.process(reader, config, raw);
        const constant = raw.constant;
        const indexed = raw.indexed || false;
        const name = raw.name;
        const scope = raw.scope;
        const stateVariable = raw.stateVariable;
        const visibility = raw.visibility;
        const typeString = raw.typeDescriptions.typeString;
        const nameLocation = raw.nameLocation;
        const storageLocation = raw.storageLocation === "" ? constants_1.DataLocation.Default : raw.storageLocation;
        let mutability;
        if (typeof raw.mutability === "string") {
            mutability = raw.mutability;
        }
        else {
            mutability = constant ? constants_1.Mutability.Constant : constants_1.Mutability.Mutable;
        }
        const documentation = raw.documentation
            ? reader.convert(raw.documentation, config)
            : undefined;
        const overrideSpecifier = raw.overrides
            ? reader.convert(raw.overrides, config)
            : undefined;
        const typeName = raw.typeName
            ? reader.convert(raw.typeName, config)
            : undefined;
        const value = raw.value ? reader.convert(raw.value, config) : undefined;
        return [
            id,
            src,
            constant,
            indexed,
            name,
            scope,
            stateVariable,
            storageLocation,
            visibility,
            mutability,
            typeString,
            documentation,
            typeName,
            overrideSpecifier,
            value,
            nameLocation,
            raw
        ];
    }
}
exports.ModernVariableDeclarationProcessor = ModernVariableDeclarationProcessor;
//# sourceMappingURL=variable_declaration_processor.js.map
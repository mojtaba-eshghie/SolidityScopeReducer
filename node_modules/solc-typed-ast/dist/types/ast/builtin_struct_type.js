"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.BuiltinStructType = void 0;
const utils_1 = require("../utils");
const builtin_type_1 = require("./builtin_type");
/**
 * A utility type for referencing builtin structs.
 * It is not directly referenced in typeString parser grammar.
 */
class BuiltinStructType extends builtin_type_1.BuiltinType {
    constructor(name, members, src) {
        super(name, src);
        this.members = members;
    }
    pp() {
        return this.name;
    }
    getFieldForVersion(fieldName, version) {
        const versionDepFields = this.members.get(fieldName);
        if (!versionDepFields) {
            return undefined;
        }
        for (const versionDepField of versionDepFields) {
            const typ = (0, utils_1.getTypeForCompilerVersion)(versionDepField, version);
            if (typ) {
                return typ;
            }
        }
        return undefined;
    }
}
exports.BuiltinStructType = BuiltinStructType;
//# sourceMappingURL=builtin_struct_type.js.map